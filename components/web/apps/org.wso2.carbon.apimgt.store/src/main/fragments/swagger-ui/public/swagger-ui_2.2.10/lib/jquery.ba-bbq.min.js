!function(t,e){function n(t){return"string"==typeof t}function r(t){var e=g.call(arguments,1);return function(){return t.apply(this,e.concat(g.call(arguments)))}}function o(t){return t.replace(/^[^#]*#?(.*)$/,"$1")}function a(t){return t.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function i(r,o,a,i,c){var u,f,p,h,d;return i!==s?(p=a.match(r?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),d=p[3]||"",2===c&&n(i)?f=i.replace(r?I:C,""):(h=l(p[2]),i=n(i)?l[r?A:j](i):i,f=2===c?i:1===c?t.extend({},i,h):t.extend({},h,i),f=b(f),r&&(f=f.replace(v,y))),u=p[1]+(r?"#":f||!p[1]?"?":"")+f+d):u=o(a!==s?a:e[E][S]),u}function c(t,e,r){return e===s||"boolean"==typeof e?(r=e,e=b[t?A:j]()):e=n(e)?e.replace(t?I:C,""):e,l(e,r)}function u(e,r,o,a){return n(o)||"object"==typeof o||(a=o,o=r,r=s),this.each(function(){var n=t(this),i=r||m()[(this.nodeName||"").toLowerCase()]||"",c=i&&n.attr(i)||"";n.attr(i,b[e](c,o,a))})}var s,f,l,p,h,d,m,v,g=Array.prototype.slice,y=decodeURIComponent,b=t.param,$=t.bbq=t.bbq||{},x=t.event.special,N="hashchange",j="querystring",A="fragment",w="elemUrlAttr",E="location",S="href",q="src",C=/^.*\?|#.*$/g,I=/^.*\#/,R={};b[j]=r(i,0,a),b[A]=f=r(i,1,o),f.noEscape=function(e){e=e||"";var n=t.map(e.split(""),encodeURIComponent);v=RegExp(n.join("|"),"g")},f.noEscape(",/"),t.deparam=l=function(e,n){var r={},o={"true":!0,"false":!1,"null":null};return t.each(e.replace(/\+/g," ").split("&"),function(e,a){var i,c=a.split("="),u=y(c[0]),f=r,l=0,p=u.split("]["),h=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[h])?(p[h]=p[h].replace(/\]$/,""),p=p.shift().split("[").concat(p),h=p.length-1):h=0,2===c.length)if(i=y(c[1]),n&&(i=i&&!isNaN(i)?+i:"undefined"===i?s:o[i]!==s?o[i]:i),h)for(;h>=l;l++)u=""===p[l]?f.length:p[l],f=f[u]=h>l?f[u]||(p[l+1]&&isNaN(p[l+1])?{}:[]):i;else t.isArray(r[u])?r[u].push(i):r[u]=r[u]!==s?[r[u],i]:i;else u&&(r[u]=n?s:"")}),r},l[j]=r(c,0),l[A]=p=r(c,1),t[w]||(t[w]=function(e){return t.extend(R,e)})({a:S,base:S,iframe:q,img:q,input:q,form:"action",link:S,script:q}),m=t[w],t.fn[j]=r(u,j),t.fn[A]=r(u,A),$.pushState=h=function(t,r){n(t)&&/^#/.test(t)&&r===s&&(r=2);var o=t!==s,a=f(e[E][S],o?t:{},o?r:2);e[E][S]=a+(/#/.test(a)?"":"#")},$.getState=d=function(t,e){return t===s||"boolean"==typeof t?p(t):p(e)[t]},$.removeState=function(e){var n={};e!==s&&(n=d(),t.each(t.isArray(e)?e:arguments,function(t,e){delete n[e]})),h(n,2)},x[N]=t.extend(x[N],{add:function(e){function n(t){var e=t[A]=f();t.getState=function(t,n){return t===s||"boolean"==typeof t?l(e,t):l(e,n)[t]},r.apply(this,arguments)}var r;return t.isFunction(e)?(r=e,n):(r=e.handler,void(e.handler=n))}})}(jQuery,this),function(t,e,n){function r(t){return t=t||e[i][u],t.replace(/^[^#]*#?(.*)$/,"$1")}var o,a=t.event.special,i="location",c="hashchange",u="href",s=(t.browser,document.documentMode,"Microsoft Internet Explorer"==navigator.appName?!0:!1),f="on"+c in e&&!s;t[c+"Delay"]=100,a[c]=t.extend(a[c],{setup:function(){return!f&&void t(o.start)},teardown:function(){return!f&&void t(o.stop)}}),o=function(){function n(){f=l=function(t){return t},s&&(a=t('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,l=function(){return r(a.document[i][u])},(f=function(t,e){if(t!==e){var n=a.document;n.open().close(),n[i].hash="#"+t}})(r()))}var o,a,f,l,p={};return p.start=function(){if(!o){var a=r();f||n(),function s(){var n=r(),p=l(a);n!==a?(f(a=n,p),t(e).trigger(c)):p!==a&&(e[i][u]=e[i][u].replace(/#.*/,"")+"#"+p),o=setTimeout(s,t[c+"Delay"])}()}},p.stop=function(){a||(o&&clearTimeout(o),o=0)},p}()}(jQuery,this);